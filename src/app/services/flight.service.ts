import {Injectable} from '@angular/core';import {airports, generateFlights} from '../models/flights.sample-data';import {Airport, Flight, SearchOptions} from '../models/models';import {Observable, of} from 'rxjs';import {map } from 'rxjs/operators';@Injectable({  providedIn: 'root'})export class FlightService {  private flights: Flight[];  private options: SearchOptions;  constructor() {    this.flights = generateFlights(300 );  }  searchFlights(options: SearchOptions): Observable<Flight[]> {    this.options = options;    return of(this.flights)      .pipe(map((flights: Flight[]) => {        return flights          .filter(this.filterByArrival.bind(this));      }));  }  getAirports(): Observable<Airport[]> {    return of(airports);  }  filterByArrival(f: Flight): boolean {      if (this.options.arrival) {        return f.arrival.airport.iata === this.options.arrival;      } else {        return true;      }  }}