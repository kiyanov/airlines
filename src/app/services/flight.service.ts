import {Injectable} from '@angular/core';import {airports, generateFlights} from "../models/flights.sample-data";import {Flight, SearchOptions} from "../models/models";import {Observable, of} from "rxjs";import {map, filter } from "rxjs/operators";@Injectable({  providedIn: 'root'})export class FlightService {  private flights: Flight[];  private options: SearchOptions;  constructor() {    this.flights = generateFlights(1000 );  }  searchFlights(options: SearchOptions): Observable<Flight[]> {    this.options = options;    return of(this.flights)      .pipe(map((flights: Flight[]) => {        return flights          .filter(this.filterByArrival.bind(this))      }));  }  getAirports() {    return of(airports);  }  filterByArrival(f: Flight) {      if(this.options.arrival) {        return f.arrival.airport.iata === this.options.arrival;      } else {        return true;      }  }}